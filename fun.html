<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">

<title>funny game</title>

</head>
<body>
	
	<div>
		<h3>this is new html document generated by newject extention</h3>
	</div>
	<script>
		// 抢红包分配机制
		function set_redPay(minPay,paySum,valNum,sumNum){
			// minPay:单个最小金额；  paySum: 红包总金额；  valNum：有效红包数；  sumNum：红包总个数
			
		}
		
		
		
		// 手机摇一摇触发机制
		if (window.DeviceMotionEvent) {
			window.addEventListener(‘devicemotion’,deviceMotionHandler, false);
		}
		
		//设置最后更新时间，用于对比
		var lastUpdate = 0;
		
		function deviceMotionHandler(event){
			
			//设置摇动幅度基准，灵敏度
			var shakeThreshold = 3000;
			//设置位置速率
			var curShakeX = curShakeY = curShakeZ = lastShakeX = lastShakeY = lastShakeZ = 0;

			//获得重力加速
			var acceleration =event.accelerationIncludingGravity;

			//获得当前时间戳
			var curTime = new Date().getTime();

			if ((curTime - lastUpdate)> 100) {

				//时间差
				var diffTime = curTime - lastUpdate;
				lastUpdate = curTime;


				//x轴加速度
				curShakeX = acceleration.x;
				//y轴加速度
				curShakeY = acceleration.y;
				//z轴加速度
				curShakeZ = acceleration.z;

				var speed = Math.abs(curShakeX + curShakeY + curShakeZ - lastShakeX - lastShakeY - lastShakeZ) / diffTime * 10000;

				if (speed > shakeThreshold) {

					set_redPay('0.01'，'100','10','20');

				}

				lastShakeX = curShakeX;
				lastShakeY = curShakeY;
				lastShakeZ = curShakeZ;
			}
		}
	</script>
</body>
</html>